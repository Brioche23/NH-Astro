---
import Vimeo from './Vimeo.astro';

const {title, url, imgUrl, vimeoId, categorie} = Astro.props

const videoSizes = ["w-1/2", "w-2/3", "w-1/4", "w-1/3", "w-3/4"]
let margins = ['ml-auto mr-0', 'mx-auto', 'ml-0 mr-auto'];

const videoId = "video-"+vimeoId;


function getRandomWidth() {
  return videoSizes[Math.floor(Math.random() * videoSizes.length)];
}

function getRandomMargin() {
  return margins[Math.floor(Math.random() * margins.length)];
}

---

<li id={videoId} class={`video-card relative transition-all duration-500 ${getRandomWidth()} ${getRandomMargin()}`}>
     <Vimeo {vimeoId} {title} {categorie}/>
</li>

<script >
     console.log('hello');
     const videoCards = document.querySelectorAll('li.video-card');
     // Handle clicks on each button.

     videoCards.forEach((card) => {
  card.addEventListener('click', () => {
       
     // card.classList.toggle("w-full");
     card.style.width = card.style.width === '100%' ? '' : '100%';
     // card.classList.toggle("ml-0");
     // card.classList.toggle("mr-0");
     // card.classList.toggle("mx-auto");
     console.log('toggle');
  });
});

//      videoCard?.addEventListener("click", () => {
//           console.log('toggle');
//           videoCard.classList.toggle("w-1/2");
//     })
</script>

<style>
     .video-card::after {
  content:"";
  position:absolute;
  z-index:2;
  width:100%;
  height:100%;
  left:0;
  top:0;
}
</style>